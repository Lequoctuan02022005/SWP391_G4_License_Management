<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="role-sidebar"
     th:if="${account != null and account.role.roleName.name() != 'CUSTOMER'}">

    <link rel="stylesheet" th:href="@{/css/sidebar-header.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
          rel="stylesheet">

    <div class="layout-wrapper">

        <!-- ================= SIDEBAR ================= -->
        <aside class="sidebar">

            <!-- ===== PROFILE ===== -->
            <div class="sidebar-profile">

                <img class="avatar"
                     th:src="${account.images != null
                             ? '/uploads/avatar/' + account.images
                             : 'https://cdn-icons-png.flaticon.com/512/147/147144.png'}"/>

                <div class="profile-info">
                    <div class="name" th:text="${account.fullName}"></div>
                    <div class="role" th:text="${account.role.roleName}"></div>
                </div>
            </div>

            <!-- ===== USER ACTIONS (NO DROPDOWN) ===== -->
            <div class="sidebar-actions">

                <a href="/profile" class="action-item">
                    <i class="bi bi-person"></i>
                    <span>Thông tin tài khoản</span>
                </a>

                <a href="/change-password" class="action-item">
                    <i class="bi bi-shield-lock"></i>
                    <span>Đổi mật khẩu</span>
                </a>

                <a th:if="${account.role.roleName.name() == 'SELLER'}"
                   href="/seller/renew"
                   class="action-item">
                    <i class="bi bi-arrow-repeat"></i>
                    <span>Gia hạn Seller</span>
                </a>



            </div>

            <!-- ================= MENU ================= -->
            <ul class="menu">

                <!-- SELLER -->
                <th:block th:if="${account.role.roleName.name() == 'SELLER'}">
                    <li><a href="/dashboard"><i class="bi bi-speedometer"></i> Dashboard</a></li>
                    <li><a href="/toollist"><i class="bi bi-box"></i> Sản phẩm</a></li>
                    <li><a href="#"><i class="bi bi-grid"></i> Dịch vụ</a></li>
                    <li><a href="/seller/feedbacks"><i class="bi bi-star"></i> Feedback</a></li>
                    <li><a href="/seller-package/renew-history"><i class="bi bi-clock-history"></i> Renew history</a></li>
                    <li><a href="/support"><i class="bi bi-headset"></i> Support</a></li>
                    <li><a href="/logout" class="action-item logout">
                        <i class="bi bi-box-arrow-right"></i>
                        <span>Thoát</span>
                    </a></li>
                </th:block>

                <!-- ADMIN -->
                <th:block th:if="${account.role.roleName.name() == 'ADMIN'}">
                    <li><a href="/dashboard"><i class="bi bi-speedometer"></i> Dashboard</a></li>
                    <li><a href="/admin/accounts"><i class="bi bi-people"></i> Account Management</a></li>
                    <li><a href="/admin/roles"><i class="bi bi-shield-check"></i> Role Management</a></li>
                    <li><a href="/seller-package/renew-history"><i class="bi bi-clock-history"></i> Renew History</a></li>
                    <li><a href="/admin/financial-report"><i class="bi bi-cash-coin"></i> Financial report</a></li>
                    <li><a href="/logout" class="action-item logout">
                        <i class="bi bi-box-arrow-right"></i>
                        <span>Thoát</span>
                    </a></li>
                </th:block>

                <!-- MOD -->
                <th:block th:if="${account.role.roleName.name() == 'MOD'}">
                    <li><a href="/dashboard"><i class="bi bi-speedometer"></i> Dashboard</a></li>
                    <li><a href="/moderator/upload-requests"><i class="bi bi-cloud-upload"></i> Upload Tool Requests</a></li>

                    <li><a href="/logout" class="action-item logout">
                        <i class="bi bi-box-arrow-right"></i>
                        <span>Thoát</span>
                    </a></li>
                </th:block>

                <!-- MANAGER -->
                <th:block th:if="${account.role.roleName.name() == 'MANAGER'}">
                    <li><a href="/dashboard"><i class="bi bi-speedometer"></i> Dashboard</a></li>
                    <li><a href="/manager/upload-tools"><i class="bi bi-cloud-upload"></i><span>Upload Tool Requests</span></a></li>
                    <li><a href="/seller-packages"><i class="bi bi-box-seam"></i><span>Seller Packages</span></a></li>
                    <li><a href="/manager/blogs"><i class="bi bi-journal-text"></i><span>Blog Management</span></a></li>
                    <li><a href="/manager/blog-categories"><i class="bi bi-folder"></i><span>Blog Categories</span></a></li>
                    <li><a href="/category"><i class="bi bi-list-ul"></i><span>Category List</span></a></li>
                    <li><a href="/logout" class="action-item logout"><i class="bi bi-box-arrow-right"></i><span>Thoát</span></a></li>

                </th:block>

            </ul>


        </aside>

        <!-- ================= CONTENT ================= -->
        <main class="content">
            <th:block th:replace="~{::content}"/>
        </main>

    </div>

</div>
</body>
</html>
