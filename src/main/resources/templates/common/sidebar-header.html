<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="role-sidebar"
     th:if="${account != null and account.role.roleName.name() != 'CUSTOMER'}">

    <!-- ===== CSS (chỉ load 1 lần) ===== -->
    <link rel="stylesheet" th:href="@{/css/sidebar-header.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
          rel="stylesheet">

    <div class="layout-wrapper">

        <!-- ================= SIDEBAR ================= -->
        <aside class="sidebar">

            <!-- ===== PROFILE ===== -->
            <div class="sidebar-profile dropdown">

                <a class="profile-toggle d-flex align-items-center"
                   href="#"
                   role="button"
                   data-bs-toggle="dropdown"
                   aria-expanded="false">

                    <img th:src="${account.images != null
                        ? account.images
                        : 'https://cdn-icons-png.flaticon.com/512/147/147144.png'}"
                         class="avatar">

                    <div class="ms-2">
                        <div class="name" th:text="${account.fullName}"></div>
                        <div class="role" th:text="${account.role.roleName}"></div>
                    </div>
                </a>

                <!-- ===== DROPDOWN (CHỈ USER ACTIONS) ===== -->
                <ul class="dropdown-menu shadow">
                    <li><a class="dropdown-item" href="/profile">Thông tin tài khoản</a></li>
                    <li><a class="dropdown-item" href="/change-password">Đổi mật khẩu</a></li>

                    <li th:if="${account.role.roleName.name() == 'SELLER'}">
                        <a class="dropdown-item" href="/seller/renew">Gia hạn / Đăng ký Seller</a>
                    </li>

                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item text-danger" href="/logout">Thoát</a></li>
                </ul>

            </div>

            <!-- ================= MENU ================= -->
            <ul class="menu">

                <!-- ===== SELLER ===== -->
                <th:block th:if="${account.role.roleName.name() == 'SELLER'}">
                    <li><a href="/seller/dashboard"><i class="bi bi-speedometer"></i> Dashboard</a></li>
                    <li><a href="/toollist"><i class="bi bi-box"></i> Sản phẩm</a></li>
                    <li><a href="#category"><i class="bi bi-grid"></i> Dịch vụ</a></li>
                    <li><a href="/blog"><i class="bi bi-journal-text"></i> Blogs</a></li>
                    <li><a href="#"><i class="bi bi-envelope"></i> Contact Us</a></li>
                    <li><a href="/support"><i class="bi bi-headset"></i> Support</a></li>
                </th:block>

                <!-- ===== ADMIN ===== -->
                <th:block th:if="${account.role.roleName.name() == 'ADMIN'}">
                    <li><a href="/dashboard"><i class="bi bi-speedometer"></i> Dashboard</a></li>
                    <li><a href="/admin/users"><i class="bi bi-people"></i> Quản lý Users</a></li>
                    <li><a href="/seller-package/renew-history"><i class="bi bi-wrench"></i> RENEW HISTORY</a></li>
                    <li><a href="/admin/orders"><i class="bi bi-receipt"></i> Quản lý Orders</a></li>
                    <li><a href="/renew-history"><i class="bi bi-clock-history"></i> Lịch sử gia hạn</a></li>
                </th:block>

                <!-- ===== MOD ===== -->
                <th:block th:if="${account.role.roleName.name() == 'MOD'}">
                    <li><a href="/mod/dashboard"><i class="bi bi-speedometer"></i> Dashboard</a></li>
                    <li><a href="/mod/tools"><i class="bi bi-check2-circle"></i> Duyệt Tools</a></li>
                    <li><a href="/mod/reports"><i class="bi bi-flag"></i> Reports</a></li>
                </th:block>

                <!-- ===== MANAGER ===== -->
                <th:block th:if="${account.role.roleName.name() == 'MANAGER'}">
                    <li><a href="/manager/dashboard"><i class="bi bi-speedometer"></i> Dashboard</a></li>
                    <li><a href="/manager/statistics"><i class="bi bi-bar-chart"></i> Statistics</a></li>
                </th:block>

            </ul>




        </aside>

        <!-- ================= PAGE CONTENT ================= -->
        <main class="content">
            <th:block th:replace="~{::content}"/>
        </main>

    </div>

    <!-- ===== BOOTSTRAP JS ===== -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</div>

</body>
</html>
