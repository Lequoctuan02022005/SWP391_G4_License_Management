<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Report Detail</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-4">

<h3>Report Detail</h3>

<table class="table">
    <tr>
        <th>ID</th>
        <td th:text="${report.toolReportId}"></td>
    </tr>
    <tr>
        <th>Tool</th>
        <td th:text="${report.tool.toolName}"></td>
    </tr>
    <tr>
        <th>Reason</th>
        <td th:text="${report.reason}"></td>
    </tr>
    <tr>
        <th>Description</th>
        <td th:text="${report.description}"></td>
    </tr>
    <tr>
        <th>Status</th>
        <td>
            <span class="badge bg-info"
                  th:text="${report.status}"></span>
        </td>
    </tr>
</table>

<!-- USER ACTION: chỉ hiện khi PROCESSING -->
<div th:if="${report.status.name() == 'PROCESSING'}">

    <form th:action="@{/tools/reports/{id}/agree(id=${report.toolReportId})}"
          method="post"
          style="display:inline;">
        <button class="btn btn-success">
            Agree
        </button>
    </form>

    <form th:action="@{/tools/reports/{id}/disagree(id=${report.toolReportId})}"
          method="post"
          style="display:inline;">
        <button class="btn btn-danger">
            Disagree
        </button>
    </form>

</div>

<a href="/tools/reports/my" class="btn btn-secondary mt-3">Back</a>

</body>
</html>
